<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CASP Protocol</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="container">
    <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>

사용자님의 직관적인 UI 감각을 반영하여, 유치하지 않으면서도 **전문적인 연구 프로토콜(Protocol)**의 느낌을 주는 디자인으로 최종 리팩토링했습니다. 보라색 배경의 중앙 정렬 박스는 시선을 집중시키고, 텍스트 간격을 좁혀 학술적 가독성을 높였습니다.

1. CASP Protocol v1.1 최종 UI 리팩토링
요청하신 대로 테두리 없는 보라색 중앙 정렬 박스와 줄어든 텍스트 간격을 적용했습니다.

HTML 구조
HTML

<section id="step1" class="step active">
    <div class="header-purple-box">
        <h2 class="protocol-title">CASP Protocol</h2>
        <div class="name-group">
            <p class="en-name">Cognitive–Adaptive Stress Prosody Test</p>
            <p class="ko-name">인지-적응형 스트레스 프로소디 테스트</p>
        </div>
    </div>
    
    <div class="version-dimmed">v1.1</div>

    <div class="research-container">
        <ul class="spec-list">
            <li><strong>연구 방식:</strong> 40초 발화 데이터 수집 (10~15초 분절 분석)</li>
            <li><strong>핵심 모델:</strong> 프로소디 특징 × SQ 결합 분포 기반 정규화</li>
            <li><strong>데이터 보호:</strong> 모든 데이터는 익명 세션 ID로 암호화 처리</li>
        </ul>

        <hr class="divider">

        <div class="info-footer">
            <p class="company-name">(주)소울스펙트럼 | SoulSpectrum Inc.</p>
            <p class="pi-name">연구 및 개인정보 책임자: 맹난영</p>
        </div>
    </div>
        <div class="button-group" style="margin-top: 40px;">
            <button class="next-btn" onclick="startResearch(false)">14세 이상 연구 참여하기</button>
            <button class="next-btn secondary-btn" style="margin-top: 16px;" onclick="startResearch(true)">
                14세 미만 연구 참여하기 (보호자 동의 필요)
            </button>
        </div>
    </section>

<section id="step2" class="step">
  <h3 class="title">연구 참여 동의</h3>

  <div class="consent-group">
    <div class="consent-item" id="parentalConsentItem" style="display: none;">
      <div class="consent-header" onclick="loadAndToggleConsent('terms-of-use/child.txt', this)">
        <input type="checkbox" class="essential" id="checkParent" onclick="event.stopPropagation()">
        <div class="header-text">
          <span class="subject">법정대리인 동의</span>
          <span class="badge">필수</span>
        </div>
        <span class="arrow">▼</span>
      </div>

      <div class="consent-content">
        <div class="consent-text-area">내용을 불러오는 중...</div>
      </div>
    </div>

    <div class="consent-item">
      <div class="consent-header" onclick="loadAndToggleConsent('terms-of-use/personal.txt', this)">
        <input type="checkbox" class="essential" id="check1" onclick="event.stopPropagation()">
        <div class="header-text">
          <span class="subject">개인정보 수집 및 이용</span>
          <span class="badge">필수</span>
        </div>
        <span class="arrow">▼</span>
      </div>

      <div class="consent-content">
        <div class="consent-text-area">내용을 불러오는 중...</div>
      </div>
    </div>

    <div class="consent-item">
      <div class="consent-header" onclick="loadAndToggleConsent('terms-of-use/voice.txt', this)">
        <input type="checkbox" class="essential" id="check2" onclick="event.stopPropagation()">
        <div class="header-text">
          <span class="subject">음성분석 처리 동의</span>
          <span class="badge">필수</span>
        </div>
        <span class="arrow">▼</span>
      </div>

      <div class="consent-content">
        <div class="consent-text-area">내용을 불러오는 중...</div>
      </div>
    </div>
  </div>

  <div class="consent-item">
  <div class="consent-header" onclick="loadAndToggleConsent('terms-of-use/qeeg.txt', this)">
    <input type="checkbox" id="checkQeeg" onclick="event.stopPropagation()">
    <div class="header-text">
      <span class="subject">qEEG 업로드 및 처리 동의</span>
      <span class="badge select-badge">선택</span> </div>
    <span class="arrow">▼</span>
  </div>

  <div class="consent-content">
    <div class="consent-text-area">내용을 불러오는 중...</div>
  </div>
</div>

  <button class="next-btn" onclick="checkAndGo()">동의 완료 및 다음</button>
</section>



   <section id="step3" class="step">
    <h3 class="title">기본 정보 입력</h3>
    
    <div class="input-group">
        <label class="label">닉네임</label>
        <input type="text" id="nickname" placeholder="익명 가능 (2자 이상)">
    </div>

    <div class="input-group">
        <label class="label">비밀 PIN (4자리)</label>
        <input type="password" id="userPin" maxlength="4" inputmode="numeric" placeholder="숫자 4자리">
        <p class="description" style="font-size: 11px; margin-top: 5px;">* 리포트 조회 및 데이터 삭제 시 반드시 필요합니다.</p>
    </div>

    <div class="input-group last">
        <label class="label">만 나이</label>
        <input type="number" id="age" placeholder="숫자만 입력">
    </div>

    <label class="label">성별</label>
    <div class="gender-group">
        <div class="gender-item">
            <input type="radio" name="gender" id="male" value="male" checked>
            <label for="male" class="gender-label">남성</label>
        </div>
        <div class="gender-item">
            <input type="radio" name="gender" id="female" value="female">
            <label for="female" class="gender-label">여성</label>
        </div>
    </div>
        
    <label class="label">해당하는 진단 정보</label>
    <p class="description">중복 선택이 가능합니다.</p>
    <div class="chip-group">
        <div class="chip" onclick="toggleDiagnosis(this, 'ASD')">ASD</div>
        <div class="chip" onclick="toggleDiagnosis(this, 'ADHD')">ADHD</div>
        <div class="chip" onclick="toggleDiagnosis(this, 'HSP')">HSP</div>
        <div class="chip" onclick="toggleDiagnosis(this, 'None')">해당 없음</div>
    </div>

    <button class="next-btn" style="margin-top: 40px;" onclick="startSQTest()">
  체계화 지수 간이 테스트
</button>
</section>

    <section id="step4" class="step">
        <div id="questionCount" class="step-indicator">1 / 10</div>
        <h3 id="questionText" class="question-title"></h3>
        <div class="answer-group">
<button class="ans-btn" onclick="handleAnswer(1, event)">전혀 아니다</button>
<button class="ans-btn" onclick="handleAnswer(2, event)">아니다</button>
<button class="ans-btn" onclick="handleAnswer(3, event)">보통</button>
<button class="ans-btn" onclick="handleAnswer(4, event)">그렇다</button>
<button class="ans-btn" onclick="handleAnswer(5, event)">매우 그렇다</button>

        </div>
    </section>

   <section id="step5" class="step">
    <h3 class="title">qEEG 업로드</h3>
    <p class="description">
        EC와 EO는 오른쪽 상단에 표기되어 있습니다. 
        잘 모르시거나 한 장만 보유하고 있다면 아무 곳에나 올려주세요.(선택사항)
        보조지표로 사용되므로 없으셔도 무방합니다.
    </p>
    
    <div class="upload-unit">
        <div class="qeeg-box">
            <div class="qeeg-info-text">
                <span class="qeeg-type">EC</span>
                <span class="description" style="margin-bottom:0;">(눈 감았을 때)</span>
            </div>
            <span id="ecStatus" class="qeeg-status">미첨부</span>
        </div>
        <input type="file" id="qeegEC" style="display:none" onchange="updateFileName('EC')">
        <button class="next-btn file-btn" onclick="document.getElementById('qeegEC').click()">파일 선택</button>
    </div>

    <div style="height: 24px;"></div> <div class="upload-unit">
        <div class="qeeg-box">
            <div class="qeeg-info-text">
                <span class="qeeg-type">EO</span>
                <span class="description" style="margin-bottom:0;">(눈 떴을 때)</span>
            </div>
            <span id="eoStatus" class="qeeg-status">미첨부</span>
        </div>
        <input type="file" id="qeegEO" style="display:none" onchange="updateFileName('EO')">
        <button class="next-btn file-btn" onclick="document.getElementById('qeegEO').click()">파일 선택</button>
    </div>

<button type="button" id="uploadBtn" class="next-btn" onclick="submitAll(event)">다음</button>

<button type="button" id="nextStepBtn" class="next-btn secondary-btn" style="display:none;">
  음성분석 이어하기
</button>

</section>
 <div id="customModal" class="modal-overlay">
  <div class="modal-content">
    <div class="modal-body"><p id="modalMessage"></p></div>

    <button id="modalCancelBtn" class="modal-btn" style="display:none;">취소</button>
    <button id="modalOkBtn" class="modal-btn">확인</button>
  </div>
</div>

<script src="./runtime-config.js?v=1"></script>
<script src="./session-guard.js"></script>
<script src="./report.js"></script>
<script type="module" src="app.js"></script>


</body>
</html>