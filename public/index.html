<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> SQ와 프로소디 간 상관관계 연구 | SoulSpectrum</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="container">
    <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>

    <section id="step1" class="step active">
        <h2 class="title">프로젝트-RHYTHME</h2>
        <div class="research-intro">
            <p>본 연구는 <strong>(주)소울스펙트럼(SoulSpectrum Inc.)</strong>에서 주관하며, 
            음성 특징과 SQ(Systemizing Quotient)의 상관관계를 분석하여 신경다양성 특성을 정밀 프로파일링하는 것을 목적으로 합니다.</p>
            <p class="pi-info">연구책임자: 맹난영</p>
        </div>
        <button class="next-btn" onclick="nextStep()">연구 참여하기</button>
    </section>

    <section id="step2" class="step">
        <h3>연구 참여 동의</h3>
        <div class="consent-box">
            <label><input type="checkbox" class="essential"> 개인정보 수집 및 이용 동의 (필수)</label>
            <label><input type="checkbox" class="essential"> 음성 데이터 수집 및 분석 동의 (필수)</label>
            <label><input type="checkbox" class="essential"> qEEG 데이터 정보 저장 동의 (필수)</label>
        </div>
        <button class="next-btn" onclick="nextStep()">동의 후 시작</button>
    </section>

    <section id="step3" class="step">
        <h3>기본 정보 입력</h3>
        <input type="text" id="nickname" placeholder="닉네임(익명 가능)">
        <input type="number" id="age" placeholder="만 나이">
        <div class="gender-group">
            <label><input type="radio" name="gender" value="male" checked> 남성</label>
            <label><input type="radio" name="gender" value="female"> 여성</label>
            <label><input type="radio" name="gender" value="other"> 기타</label>
        </div>
        
        <p class="label">해당하는 진단 정보 (중복 선택)</p>
        <div class="chip-group">
            <div class="chip" onclick="toggleDiagnosis(this, 'ASD')">ASD</div>
            <div class="chip" onclick="toggleDiagnosis(this, 'ADHD')">ADHD</div>
            <div class="chip" onclick="toggleDiagnosis(this, 'HSP')">HSP</div>
            <div class="chip" onclick="toggleDiagnosis(this, 'None')">해당 없음</div>
        </div>
        <button class="next-btn" onclick="validateStep3()">SQ 테스트 시작</button>
    </section>

    <section id="step4" class="step">
        <div id="questionCount" class="step-indicator">1 / 10</div>
        <h3 id="questionText" class="question"></h3>
        <div class="answer-group">
            <button class="ans-btn" onclick="handleAnswer(0)">전혀 아니다</button>
            <button class="ans-btn" onclick="handleAnswer(1)">약간 그렇다</button>
            <button class="ans-btn" onclick="handleAnswer(2)">상당히 그렇다</button>
            <button class="ans-btn" onclick="handleAnswer(3)">매우 그렇다</button>
        </div>
    </section>

<section id="step5" class="step">
    <h3 class="title">qEEG 업로드</h3>
    <p class="description">보유하신 파일을 업로드해 주세요. (선택사항)</p>
    
    <div class="qeeg-box">
        <span>EC (눈 감았을 때)</span>
        <span id="ecStatus" class="qeeg-status">미첨부</span>
    </div>
    <input type="file" id="qeegEC" style="display:none" onchange="updateFileName('EC')">
    <button class="next-btn file-btn" onclick="document.getElementById('qeegEC').click()">파일 선택 (EC)</button>

    <div style="height: 12px;"></div>

    <div class="qeeg-box">
        <span>EO (눈 떴을 때)</span>
        <span id="eoStatus" class="qeeg-status">미첨부</span>
    </div>
    <input type="file" id="qeegEO" style="display:none" onchange="updateFileName('EO')">
    <button class="next-btn file-btn" onclick="document.getElementById('qeegEO').click()">파일 선택 (EO)</button>

    <button class="next-btn" style="margin-top: 40px;" onclick="submitAll()">최종 제출</button>
</section>

    <section id="step6" class="step">
        <div class="success-icon">✅</div>
        <h2>참여해주셔서 감사합니다!</h2>
        <p>전송된 데이터는 <strong>(주)소울스펙트럼</strong> 연구의 소중한 자산이 됩니다.</p>
    </section>
</div>

<footer class="admin-footer">
    <p>&copy; 2026 SoulSpectrum Inc. All Rights Reserved.</p>
</footer>

<script src="app.js"></script>
</body>
</html>